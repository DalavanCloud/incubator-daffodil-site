<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Apache Daffodil (incubating) | Examples</title>
    
    <meta name="author" content="">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="/assets/themes/apache/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/themes/apache/css/style.css?body=1" rel="stylesheet" type="text/css">
    <link href="/assets/themes/apache/css/syntax.css" rel="stylesheet"  type="text/css" media="screen" />

  </head>

  <body>

        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">
              <!--<img src="/assets/themes/apache/img/logo.png" width="50">-->
              Apache Daffodil (incubating)
          </a>
        </div>
        <nav class="navbar-collapse collapse" role="navigation">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/releases">Releases</a></li>
            <li id="documentation">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Docs<b class="caret"></b></a>
              <ul class="dropdown-menu dropdown-left">
                <li><a href="/getting-started/">Getting Started</a></li>
                <li><a href="/examples/">Examples</a></li>
                <li><a href="/docs/latest/javadoc/">Java API</a></li>
                <li><a href="/docs/latest/scaladoc/">Scala API</a></li>
                <li><a href="/docs/dfdl/">DFDL Specification</a></li>
                <li><a href="/unsupported/">Unsupported Features</a></li>
                <li><a href="/faq/">Frequently Asked Questions</a></li>
              </ul>
            </li>
            <li id="community">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Community<b class="caret"></b></a>
              <ul class="dropdown-menu dropdown-left">
                <li><a href="/community">Get Involved</a></li>
                <li><a href="/people">People</a></li>
              </ul>
            </li>
            <li id="development">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Development<b class="caret"></b></a>
              <ul class="dropdown-menu dropdown-left">
                <li><a class="external" href="https://cwiki.apache.org/confluence/display/DAFFODIL/">Wiki</a></li>
                <li><a class="external" href="https://github.com/search?q=repo%3Aapache%2Fincubator-daffodil+repo%3Aapache%2Fincubator-daffodil-site&type=Repositories">GitHub</a></li>
                <li><a class="external" href="https://issues.apache.org/jira/projects/DAFFODIL/">JIRA</a></li>
              </ul>
            </li>
            <li id="apache">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle">Apache<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a class="external" href="http://www.apache.org/">Apache Software Foundation</a></li>
                <li><a class="external" href="http://www.apache.org/licenses/">License</a></li>
                <li><a class="external" href="http://www.apache.org/security">Security</a></li>
                <li><a class="external" href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                <li><a class="external" href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
    </div>




    <div class="container">
      <div class="row">
  <div class="col-md-12">
    <!--

-->

<h2 id="examples">Examples</h2>

<p>Below are two examples of how Daffodil parses Comma-Separated Values (CSV) and Packet Capture data (PCAP) data to XML. For simplicity, each example uses the Daffodil <a href="/cli">Command Line Interface</a> to parse input data to output XML.</p>

<h3 id="comma-separated-values-csv">Comma-Separated Values (CSV)</h3>

<p>This DFDL schema is found at the DFDLSchemas GitHub <a href="https://github.com/DFDLSchemas/CSV">CSV repository</a>.</p>

<p><code class="highlighter-rouge">bash
$ daffodil parse --schema CSV/src/main/resources/com/tresys/csv/xsd/csv.dfdl.xsd CSV/src/test/resources/com/tresys/csv/data/simpleCSV.csv
</code>
The above command uses the csv.dfdl.xsd schema to parse the simpleCSV.csv input data. The simpleCSV.csv contains the following data:</p>

<p><code class="highlighter-rouge">
last,first,middle,DOB
smith,robert,brandon,1988-03-24
johnson,john,henry,1986-01-23
jones,arya,cat,1986-02-19
</code></p>

<p>The result of the parse is the following XML:</p>

<p>```xml</p>
<ex:file xmlns:ex="http://example.com">
  <header>
    <title>last</title>
    <title>first</title>
    <title>middle</title>
    <title>DOB</title>
  </header>
  <record>
    <item>smith</item>
    <item>robert</item>
    <item>brandon</item>
    <item>1988-03-24</item>
  </record>
  <record>
    <item>johnson</item>
    <item>john</item>
    <item>henry</item>
    <item>1986-01-23</item>
  </record>
  <record>
    <item>jones</item>
    <item>arya</item>
    <item>cat</item>
    <item>1986-02-19</item>
  </record>
</ex:file>
<p>```</p>

<h3 id="packet-capture-data-pcap">Packet Capture Data (PCAP)</h3>

<p>This DFDL schema is found in the DFDLSchemas GitHub <a href="https://github.com/DFDLSchemas/PCAP">PCAP repository</a>.</p>

<p>The PCAP file format is a binary file format used to capture network packets. For information on this file format, visit the <a href="http://wiki.wireshark.org/Development/LibpcapFileFormat">Wireshark Libpcap File Format</a> page.</p>

<p><code class="highlighter-rouge">bash
$ daffodil parse --schema PCAP/src/main/resources/com/tresys/pcap/xsd/pcap.dfdl.xsd PCAP/src/test/resources/com/tresys/pcap/data/icmp.cap
</code></p>

<p>The above command uses the pcap.dfdl.xsd schema to parse the icmp.cap input file. Viewed as a hex dump, the icmp.cap file looks like:</p>

<p><code class="highlighter-rouge">
0000000     c3d4 a1b2 0002 0004 0000 0000 0000 0000
0000020     ffff 0000 0001 0000 6fc4 51c1 ccf8 000c
0000040     004a 0000 004a 0000 5000 e056 4914 0c00
...
0001300     0000 5c2f 0002 0024 6261 6463 6665 6867
0001320     6a69 6c6b 6e6d 706f 7271 7473 7675 6177
0001340     6362 6564 6766 6968
</code></p>

<p>The result of the parse is the following XML:</p>

<p>```xml</p>
<pcap:pcap xmlns:pcap="urn:pcap:2.4">
  <pcapheader>
    <magicnumber>D4C3B2A1</magicnumber>
    <version>
      <major>2</major>
      <minor>4</minor>
    </version>
    <zone>0</zone>
    <sigfigs>0</sigfigs>
    <snaplen>65535</snaplen>
    <network>1</network>
  </pcapheader>
  <packet>
    <packetheader>
      <seconds>1371631556</seconds>
      <useconds>838904</useconds>
      <incllen>74</incllen>
      <origlen>74</origlen>
    </packetheader>
    <pcap:linklayer>
      <pcap:ethernet>
        <macdest>005056E01449</macdest>
        <macsrc>000C29340BDE</macsrc>
        <ethertype>2048</ethertype>
        <pcap:networklayer>
          <pcap:ipv4>
            <ipv4header>
              <version>4</version>
              <ihl>5</ihl>
              <dscp>0</dscp>
              <ecn>0</ecn>
              <length>60</length>
              <identification>55107</identification>
              <flags>0</flags>
              <fragmentoffset>0</fragmentoffset>
              <ttl>128</ttl>
              <protocol>1</protocol>
              <checksum>11123</checksum>
              <ipsrc>192.168.158.139</ipsrc>
              <ipdest>174.137.42.77</ipdest>
            </ipv4header>
            <payloadlength>40</payloadlength>
            <protocol>1</protocol>
            <pcap:icmpv4>
              <type>8</type>
              <code>0</code>
              <checksum>10844</checksum>
              <data>02002100</data>
            </pcap:icmpv4>
          </pcap:ipv4>
        </pcap:networklayer>
      </pcap:ethernet>
    </pcap:linklayer>
  </packet>
  ...
</pcap:pcap>
<p>```</p>

  </div>
</div>


      <footer>
        <footer class="site-footer">
    <div class="wrapper">
        <div class="footer-col-wrapper" style="font-size: .85em;">
            <hr>
            <div class="container">
                <div class="row">
                    <div class="col-xs-3" style="margin-top: 15px;">
                        <a href="http://incubator.apache.org"><img src="/assets/themes/apache/img/incubator_feather_egg_logo.png"
                                                                   alt="Apache Incubator" style="width:100%;"/></a>
                    </div>
                    <div class="col-xs-9">
                        Apache Daffodil is an effort undergoing <a href="https://incubator.apache.org/index.html">Incubation</a>
                        at The Apache Software Foundation (ASF), sponsored by the Incubator. Incubation is required of all newly
                        accepted projects until a further review indicates that the infrastructure, communications, and decision
                        making process have stabilized in a manner consistent with other successful ASF projects. While incubation
                        status is not necessarily a reflection of the completeness or stability of the code, it does indicate that
                        the project has yet to be fully endorsed by the ASF.
                    </div>
                </div>
            </div>
            <hr>
            <div>
                <div style="text-align: center;">
                    Copyright &copy; 2018 <a href="http://www.apache.org">The Apache Software Foundation</a>.
                    Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version
                    2.0</a>.
                    <br>
                    Apache, the Apache feather logo, the Apache Incubator project logo, Apache Daffodil, and Daffodil are trademarks
                    of The Apache Software Foundation.
                </div>
            </div>
        </div>
    </div>
</footer>

      </footer>
    </div>

    <script src="/assets/themes/apache/jquery/jquery-2.1.1.min.js"></script>

    <script src="/assets/themes/apache/bootstrap/js/bootstrap.min.js"></script>


  </body>
</html>

